{"ast":null,"code":"import _classCallCheck from \"/Users/darwinrinderer/Desktop/My Docs/World Bank/Bank Repos/eapstory/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/darwinrinderer/Desktop/My Docs/World Bank/Bank Repos/eapstory/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/darwinrinderer/Desktop/My Docs/World Bank/Bank Repos/eapstory/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/darwinrinderer/Desktop/My Docs/World Bank/Bank Repos/eapstory/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/darwinrinderer/Desktop/My Docs/World Bank/Bank Repos/eapstory/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/darwinrinderer/Desktop/My Docs/World Bank/Bank Repos/eapstory/src/components/Graphs/BubbleGraph/BubbleGraph.jsx\";\n// External Imports\nimport React, { Component } from 'react';\nimport { VictoryChart, VictoryScatter, VictoryTheme } from 'victory';\nimport * as d3 from 'd3';\nimport Waypoint from 'react-waypoint'; // Internal Imports\n\nimport formatPovertyData from '../../../utilities/formatPovertyData';\nimport displayDataPopulator from '../../../utilities/displayDataPopulator';\nimport './BubbleGraph.css'; // Data\n\nimport asean1_9 from '../../../data/asean_1.9.csv';\nimport asean3_2 from '../../../data/asean_3.2.csv';\nimport asean5_5 from '../../../data/asean_5.5.csv';\n\nvar BubbleGraph =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BubbleGraph, _Component);\n\n  function BubbleGraph() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BubbleGraph);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BubbleGraph)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      displayData: [],\n      reserveData: [],\n      index: 1,\n      fixed: null,\n      colors: ['#191970', '#1E90FF', '#87CEFA'],\n      asean1_9: null,\n      asean3_2: null,\n      asean5_5: null\n    };\n\n    _this.updateGraph = function (index) {\n      _this.setState({\n        displayData: displayDataPopulator(_this.state.reserveData, index)\n      });\n    };\n\n    _this.hadlfixPosition = function (currentPosition) {\n      _this.setState({\n        fixed: currentPosition === 'above' ? 'fixed' : null\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BubbleGraph, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // window.addEventListener('scroll', this.handleScroll);\n      Promise.all([d3.csv(asean1_9), d3.csv(asean3_2), d3.csv(asean5_5)]).then(function (files) {\n        var formattedPovertyData = files.map(function (file) {\n          return formatPovertyData(file);\n        });\n\n        _this2.setState({\n          reserveData: formattedPovertyData,\n          asean1_9: formattedPovertyData[0],\n          asean3_2: formattedPovertyData[1],\n          asean5_5: formattedPovertyData[2]\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    // handleScroll = () => {\n    //   console.log(window.scrollY);\n    //   if (window.scrollY > 1434) {\n    //     this.setState({\n    //       fixed: 'fixed',\n    //     })\n    //   }\n    // }\n    value: function render() {\n      var _this3 = this;\n\n      var fixed = this.state.fixed;\n      return React.createElement(\"div\", {\n        className: \"BubbleGraph-sequence-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"testing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Waypoint, {\n        onLeave: function onLeave(_ref) {\n          var currentPosition = _ref.currentPosition;\n          console.log('onLeave');\n          console.log(currentPosition);\n\n          _this3.fixPosition(currentPosition);\n        },\n        onEnter: function onEnter(_ref2) {\n          var currentPosition = _ref2.currentPosition;\n          console.log('onEnter');\n          console.log(currentPosition); // this.fixPosition();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"BubbleGraph-container \".concat(fixed),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(VictoryChart, {\n        theme: VictoryTheme.material,\n        animate: {\n          duration: 1000\n        },\n        domain: {\n          x: [2012, 2018],\n          y: [0, 100]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, this.state.displayData.map(function (data, i) {\n        return React.createElement(VictoryScatter, {\n          style: {\n            data: {\n              fill: _this3.state.colors[i]\n            }\n          },\n          bubbleProperty: \"size\",\n          data: data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        });\n      }))), React.createElement(\"div\", {\n        className: \"foo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"No Year Data\"), React.createElement(\"div\", {\n        className: \"foo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"2012\"), React.createElement(Waypoint, {\n        onEnter: function onEnter() {\n          return _this3.updateGraph(1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"foo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"2013\"), React.createElement(Waypoint, {\n        onEnter: function onEnter() {\n          return _this3.updateGraph(2);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"foo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"2014\"), React.createElement(Waypoint, {\n        onEnter: function onEnter() {\n          return _this3.updateGraph(4);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"foo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"2015\"), React.createElement(Waypoint, {\n        onEnter: function onEnter() {\n          return _this3.updateGraph(5);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"foo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"2016\"), React.createElement(Waypoint, {\n        onEnter: function onEnter() {\n          return _this3.updateGraph(6);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"foo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"2017\"), React.createElement(Waypoint, {\n        onEnter: function onEnter() {\n          return _this3.updateGraph(7);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"foo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"2018\"));\n    }\n  }]);\n\n  return BubbleGraph;\n}(Component);\n\nexport default BubbleGraph;","map":{"version":3,"sources":["/Users/darwinrinderer/Desktop/My Docs/World Bank/Bank Repos/eapstory/src/components/Graphs/BubbleGraph/BubbleGraph.jsx"],"names":["React","Component","VictoryChart","VictoryScatter","VictoryTheme","d3","Waypoint","formatPovertyData","displayDataPopulator","asean1_9","asean3_2","asean5_5","BubbleGraph","state","displayData","reserveData","index","fixed","colors","updateGraph","setState","hadlfixPosition","currentPosition","Promise","all","csv","then","files","formattedPovertyData","map","file","console","log","fixPosition","material","duration","x","y","data","i","fill"],"mappings":"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","sourcesContent":["// External Imports\nimport React, { Component } from 'react';\nimport { VictoryChart, VictoryScatter, VictoryTheme } from 'victory';\nimport * as d3 from 'd3';\nimport Waypoint from 'react-waypoint';\n\n// Internal Imports\nimport formatPovertyData from '../../../utilities/formatPovertyData';\nimport displayDataPopulator from '../../../utilities/displayDataPopulator';\nimport './BubbleGraph.css';\n\n// Data\nimport asean1_9 from '../../../data/asean_1.9.csv';\nimport asean3_2 from '../../../data/asean_3.2.csv';\nimport asean5_5 from '../../../data/asean_5.5.csv';\n\nclass BubbleGraph extends Component {\n  state = {\n    displayData: [],\n    reserveData: [],\n    index: 1,\n    fixed: null,\n    colors: ['#191970', '#1E90FF', '#87CEFA'],\n    asean1_9: null,\n    asean3_2: null,\n    asean5_5: null\n  };\n\n  componentDidMount() {\n    // window.addEventListener('scroll', this.handleScroll);\n    Promise.all([d3.csv(asean1_9), d3.csv(asean3_2), d3.csv(asean5_5)]).then(\n      files => {\n        const formattedPovertyData = files.map(file => {\n          return formatPovertyData(file);\n        });\n        this.setState({\n          reserveData: formattedPovertyData,\n          asean1_9: formattedPovertyData[0],\n          asean3_2: formattedPovertyData[1],\n          asean5_5: formattedPovertyData[2]\n        });\n      }\n    );\n  }\n\n  updateGraph = index => {\n    this.setState({\n      displayData: displayDataPopulator(this.state.reserveData, index)\n    });\n  };\n\n  hadlfixPosition = (currentPosition) => {\n\n    this.setState({\n      fixed: currentPosition === 'above' ? 'fixed' : null,\n    });\n  };\n\n  // handleScroll = () => {\n  //   console.log(window.scrollY);\n  //   if (window.scrollY > 1434) {\n  //     this.setState({\n  //       fixed: 'fixed',\n  //     })\n  //   }\n  // }\n\n  render() {\n    const { fixed } = this.state;\n    return (\n      <div className=\"BubbleGraph-sequence-container\">\n        <div className=\"testing\">\n          <Waypoint\n            onLeave={({ currentPosition }) => {\n              console.log('onLeave');\n              console.log(currentPosition);\n              this.fixPosition(currentPosition);\n            }}\n            onEnter={({ currentPosition }) => {\n              console.log('onEnter');\n              console.log( currentPosition );\n              // this.fixPosition();\n            }}\n          />\n        </div>\n        <div className={`BubbleGraph-container ${fixed}`}>\n          <VictoryChart\n            theme={VictoryTheme.material}\n            animate={{ duration: 1000 }}\n            domain={{ x: [2012, 2018], y: [0, 100] }}\n          >\n            {this.state.displayData.map((data, i) => {\n              return (\n                <VictoryScatter\n                  style={{ data: { fill: this.state.colors[i] } }}\n                  bubbleProperty=\"size\"\n                  data={data}\n                />\n              );\n            })}\n          </VictoryChart>\n        </div>\n\n        <div className=\"foo\">No Year Data</div>\n\n        {/* <Waypoint onEnter={() => this.updateGraph(1)} /> */}\n\n        <div className=\"foo\">2012</div>\n\n        <Waypoint onEnter={() => this.updateGraph(1)} />\n\n        <div className=\"foo\">2013</div>\n\n        <Waypoint onEnter={() => this.updateGraph(2)} />\n\n        <div className=\"foo\">2014</div>\n\n        <Waypoint onEnter={() => this.updateGraph(4)} />\n\n        <div className=\"foo\">2015</div>\n\n        <Waypoint onEnter={() => this.updateGraph(5)} />\n\n        <div className=\"foo\">2016</div>\n\n        <Waypoint onEnter={() => this.updateGraph(6)} />\n\n        <div className=\"foo\">2017</div>\n\n        <Waypoint onEnter={() => this.updateGraph(7)} />\n\n        <div className=\"foo\">2018</div>\n      </div>\n    );\n  }\n}\n\nexport default BubbleGraph;\n"]},"metadata":{},"sourceType":"module"}